<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="TSF_mall">


	<insert id="insert_Mall" parameterType="kr.ac.sungkyul.MDS.vo.MallVo">
		<![CDATA[						
		insert into mall values(
		mall_seq .nextVal, #{mall_no}, #{mall_name}, #{mall_domain}, #{mall_type},
		 #{mall_style}, #{mall_creationdate}, #{mall_licensee}, #{mall_companyname}, #{mall_ceoname},
		  #{mall_address}, #{mall_phone}, #{mall_email}, #{mall_account}, #{mall_onlinemaketNo},
		   #{mall_dateofficer}, #{mall_customerNo}, #{mall_faxNo}, #{mall_state} )
		]]>
	</insert>

	<select id="get_joinmall_list" parameterType="kr.ac.sungkyul.MDS.vo.MemberVo"
		resultType="kr.ac.sungkyul.MDS.vo.MallVo">
		<!-- 가입한 쇼핑몰 목록 가져오기 -->
		<![CDATA[	
	 		 select mall_name, mall_domain, mall_state 
			from joinmall, mall 
			where joinmall.mall_no = mall.mall_no
			and mall_state = 1 and joinmall.member_no = #{member_no }
		]]>

	</select>

	<select id="get_Random_Mall_List" resultType="kr.ac.sungkyul.MDS.vo.MallVo">
		<!-- 쇼핑몰 목록 랜덤으로 가져오기-->
		<![CDATA[	
		select mall_name, mall_domain, mall_state 
			 from (select * from mall where mall_state = 1 order by dbms_random.value)
 			where rownum <= 5
		]]>

	</select>







</mapper>