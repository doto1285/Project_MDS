<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="TSA_board">

	<update id="ReplyWrite_orderno_update" parameterType="kr.ac.sungkyul.MDS.vo.BoardVo">
	<![CDATA[	
	update board set 
	board_orderno= board_orderno+1

	 where 
 	board_group = #{board_group} 
 	and board_orderno > #{board_orderno}
 	and board_state = 1
	]]>
	</update>


	<insert id="ReplyWrite" parameterType="kr.ac.sungkyul.MDS.vo.BoardVo">
		<!-- 답글 등록하기 -->
		<![CDATA[		
insert into board values
 (board_seq.nextval,
 	#{board_title},
 	#{board_password},
    #{board_content},
    0,
    #{board_group},
    #{board_orderno}+1,
    #{board_depth}+1,
    sysdate,
    1,
    #{boardlist_no},
    #{member_no}
    )
		]]>


	</insert>


	<select id="GetUserManage" resultType="kr.ac.sungkyul.MDS.vo.MemberVo">
		<!-- 해당 쇼핑몰의 생성되어있는 게시판 목록 가져오기 -->
		<![CDATA[			
	
	 select * from member
	
		]]>
	</select>

	<select id="GetShopManage" resultType="kr.ac.sungkyul.MDS.vo.MallVo">
		<!-- 해당 쇼핑몰의 생성되어있는 게시판 목록 가져오기 -->
		<![CDATA[			
		
		select mall_no, mall_name, mall_creationdate, mall_ceoname, member_id id
         from 
         mall 
         full OUTER JOIN 
         member 
         on 
         mall.member_no = MEMBER.MEMBER_NO where member_state = 1 and mall_no is not null
 		
 		
		]]>
	</select>
</mapper>